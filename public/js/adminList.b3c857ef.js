(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["adminList"],{3139:function(t,e,a){},"51be":function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return r});var n="//localhost:4000",r="";n="//pos.migaox.com",r="http://pos.migaox.com/img/"},6033:function(t,e,a){"use strict";var n=a("a4f4"),r=a.n(n);r.a},"665d":function(t,e,a){"use strict";var n=a("3139"),r=a.n(n);r.a},"894f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fillcontain"},[a("head-top"),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"username",label:"姓名",width:"180"}}),a("el-table-column",{attrs:{prop:"createdDate",label:"注册日期",width:"220"}}),a("el-table-column",{attrs:{prop:"authName",label:"权限"}})],1),a("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":20,layout:"total, prev, pager, next",total:t.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)},r=[],s=(a("ac6a"),a("96cf"),a("3b8d")),c=a("cebc"),o=a("cc54"),i=a("2f62"),u=a("aac5"),l={data:function(){return{tableData:[],currentRow:null,offset:0,limit:20,count:0,currentPage:1}},components:{headTop:o["a"]},created:function(){},mounted:function(){this.initData()},computed:Object(c["a"])({},Object(i["d"])(["userInfo","restaurantInfo"])),methods:{initData:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["s"])({restaurantId:this.userInfo.restaurantId});case 3:e=t.sent,this.tableData=e.data.map(function(t){return t.authName=1==t.auth?"普通":"管理员",t}),this.$message({type:"success",message:e.message}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log("获取数据失败",t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}(),handleSizeChange:function(t){console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){this.currentPage=t,this.offset=(t-1)*this.limit,this.getAdmin()},getAdmin:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,adminList({offset:this.offset,limit:this.limit});case 3:if(e=t.sent,1!=e.status){t.next=9;break}this.tableData=[],e.data.forEach(function(t){var e={create_time:t.create_time,user_name:t.user_name,auth:1===t.status?"普通":"管理员",city:t.city};a.tableData.push(e)}),t.next=10;break;case 9:throw new Error(e.message);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log("获取数据失败",t.t0);case 15:case"end":return t.stop()}},t,this,[[0,12]])}));function e(){return t.apply(this,arguments)}return e}()}},m=l,d=(a("665d"),a("2877")),h=Object(d["a"])(m,n,r,!1,null,null,null);e["default"]=h.exports},a4f4:function(t,e,a){},cc54:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/manage/home"}}},[t._v("首页")]),t._l(t.$route.meta,function(e,n){return a("el-breadcrumb-item",{key:n},[t._v(t._s(e))])})],2),a("el-dropdown",{attrs:{"menu-align":"start"},on:{command:t.handleCommand}},[a("img",{staticClass:"avator",attrs:{src:t.imgBaseUrl+t.userInfo.avatar}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"home"}},[t._v("首页")]),a("el-dropdown-item",{attrs:{command:"signout"}},[t._v("退出")])],1)],1)],1)},r=[],s=a("cebc"),c=a("51be"),o=a("2f62"),i={data:function(){return{imgBaseUrl:c["b"]}},created:function(){},computed:Object(s["a"])({},Object(o["d"])(["userInfo"])),methods:Object(s["a"])({},Object(o["c"])(["RESET_STATE"]),{handleCommand:function(t){var e=this;"home"==t?this.$router.push("/home"):"signout"==t&&this.$confirm("是否退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"退出成功"}),window.localStorage.clear(),e.RESET_STATE(),e.$router.push("/")}).catch(function(t){})}})},u=i,l=(a("6033"),a("2877")),m=Object(l["a"])(u,n,r,!1,null,null,null);e["a"]=m.exports}}]);
//# sourceMappingURL=adminList.b3c857ef.js.map