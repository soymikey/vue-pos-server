{"version":3,"sources":["webpack:///F:/elema-vue/vue-order-system-koa2-client/src/assets/logo.png","webpack:///F:/elema-vue/vue-order-system-koa2-client/src/views/login.vue?4f03","webpack:///src/views/login.vue","webpack:///F:/elema-vue/vue-order-system-koa2-client/src/views/login.vue?d5bc","webpack:///F:/elema-vue/vue-order-system-koa2-client/src/views/login.vue","webpack:///F:/elema-vue/vue-order-system-koa2-client/src/views/login.vue?bc4c"],"names":["module","exports","__webpack_require__","p","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","logo","alt","type","label","directives","name","rawName","value","expression","ref","model","loginForm","rules","loginRules","prop","placeholder","callback","$$v","$set","_v","span","captchaImg","underline","on","click","refreshCaptcha","$event","loginButton","registerForm","registerRules","registerButton","staticRenderFns","loginvue_type_script_lang_js_","data","_this","checkPassword","rule","Error","length","validatePassword","password","username","captchaCode","required","message","trigger","validator","showLogin","loading","logo_default","a","created","getCaptcha","mounted","window","localStorage","token","userInfo","auth","getUserData","computed","Object","objectSpread","vuex_esm","methods","_getCaptcha2","asyncToGenerator","regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","clientApi","sent","mUtils","code","stop","apply","arguments","_loginButton","_callee3","formName","_this2","_context3","$refs","validate","_ref","_callee2","valid","_context2","toLowerCase","store","dispatch","then","$router","push","t0","$message","abrupt","_x2","_x","_registerButton","_callee5","_this3","_context5","_ref2","_callee4","_context4","_x4","_x3","watch","newValue","views_loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_715a8d94_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_715a8d94_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/login.57fc45c2.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/logo.82b9c7a5.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_page fillcontain\"},[_c('div',{staticClass:\"logo-container\"},[_c('img',{attrs:{\"src\":_vm.logo,\"alt\":\"\"}})]),_c('div',{staticClass:\"form_contianer\"},[_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"label\":\"登陆\"}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户名\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}},[_c('span',[_vm._v(\"dsfsf\")])])],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"captchaCode\"}},[_c('el-col',{attrs:{\"span\":14}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"验证码\"},model:{value:(_vm.loginForm.captchaCode),callback:function ($$v) {_vm.$set(_vm.loginForm, \"captchaCode\", $$v)},expression:\"loginForm.captchaCode\"}})],1),_c('el-col',{attrs:{\"span\":6}},[_c('img',{attrs:{\"src\":_vm.captchaImg,\"alt\":\"captcha\"}})]),_c('el-col',{attrs:{\"span\":4}},[_c('el-link',{attrs:{\"type\":\"primary\",\"underline\":false},on:{\"click\":_vm.refreshCaptcha}},[_vm._v(\"刷新\")])],1)],1),_c('el-form-item',[_c('el-button',{staticClass:\"submit_btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.loginButton('loginForm')}}},[_vm._v(\"登陆\")])],1)],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"注册\"}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"rules\":_vm.registerRules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户名\"},model:{value:(_vm.registerForm.username),callback:function ($$v) {_vm.$set(_vm.registerForm, \"username\", $$v)},expression:\"registerForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.registerForm.password),callback:function ($$v) {_vm.$set(_vm.registerForm, \"password\", $$v)},expression:\"registerForm.password\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"checkPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"确认密码\"},model:{value:(_vm.registerForm.checkPassword),callback:function ($$v) {_vm.$set(_vm.registerForm, \"checkPassword\", $$v)},expression:\"registerForm.checkPassword\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"captchaCode\"}},[_c('el-col',{attrs:{\"span\":14}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"验证码\"},model:{value:(_vm.registerForm.captchaCode),callback:function ($$v) {_vm.$set(_vm.registerForm, \"captchaCode\", $$v)},expression:\"registerForm.captchaCode\"}})],1),_c('el-col',{attrs:{\"span\":6}},[_c('img',{attrs:{\"src\":_vm.captchaImg,\"alt\":\"captcha\"}})]),_c('el-col',{attrs:{\"span\":4}},[_c('el-link',{attrs:{\"type\":\"primary\",\"underline\":false},on:{\"click\":_vm.refreshCaptcha}},[_vm._v(\"刷新\")])],1)],1),_c('el-form-item',[_c('el-button',{staticClass:\"submit_btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.registerButton('registerForm')}}},[_vm._v(\"注册\")])],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login_page fillcontain\">\n    <div class=\"logo-container\"><img\n        :src=\"logo\"\n        alt=\"\"\n      ></div>\n    <div class=\"form_contianer\">\n      <el-tabs type=\"border-card\">\n        <el-tab-pane label=\"登陆\">\n          <el-form\n            :model=\"loginForm\"\n            :rules=\"loginRules\"\n            ref=\"loginForm\"\n            v-loading=\"loading\"\n          >\n            <el-form-item prop=\"username\">\n              <el-input\n                v-model=\"loginForm.username\"\n                placeholder=\"用户名\"\n              ><span>dsfsf</span></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\">\n              <el-input\n                type=\"password\"\n                placeholder=\"密码\"\n                v-model=\"loginForm.password\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item prop=\"captchaCode\">\n              <el-col :span=\"14\">\n                <el-input\n                  type=\"text\"\n                  placeholder=\"验证码\"\n                  v-model=\"loginForm.captchaCode\"\n                ></el-input>\n              </el-col>\n              <el-col :span=\"6\">\n                <img\n                  :src=\"captchaImg\"\n                  alt=\"captcha\"\n                >\n\n              </el-col>\n              <el-col :span=\"4\">\n                <el-link\n                  @click=\"refreshCaptcha\"\n                  type=\"primary\"\n                  :underline=\"false\"\n                >刷新</el-link>\n              </el-col>\n\n            </el-form-item>\n            <el-form-item>\n              <el-button\n                type=\"primary\"\n                @click=\"loginButton('loginForm')\"\n                class=\"submit_btn\"\n              >登陆</el-button>\n            </el-form-item>\n          </el-form>\n        </el-tab-pane>\n        <el-tab-pane label=\"注册\">\n          <el-form\n            :model=\"registerForm\"\n            :rules=\"registerRules\"\n            ref=\"registerForm\"\n            v-loading=\"loading\"\n          >\n            <el-form-item prop=\"username\">\n              <el-input\n                v-model=\"registerForm.username\"\n                placeholder=\"用户名\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\">\n              <el-input\n                type=\"password\"\n                placeholder=\"密码\"\n                v-model=\"registerForm.password\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item prop=\"checkPassword\">\n              <el-input\n                type=\"password\"\n                placeholder=\"确认密码\"\n                v-model=\"registerForm.checkPassword\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item prop=\"captchaCode\">\n              <el-col :span=\"14\">\n                <el-input\n                  type=\"text\"\n                  placeholder=\"验证码\"\n                  v-model=\"registerForm.captchaCode\"\n                ></el-input>\n              </el-col>\n              <el-col :span=\"6\">\n                <img\n                  :src=\"captchaImg\"\n                  alt=\"captcha\"\n                >\n\n              </el-col>\n              <el-col :span=\"4\">\n                <el-link\n                  @click=\"refreshCaptcha\"\n                  type=\"primary\"\n                  :underline=\"false\"\n                >刷新</el-link>\n              </el-col>\n\n            </el-form-item>\n            <el-form-item>\n              <el-button\n                type=\"primary\"\n                @click=\"registerButton('registerForm')\"\n                class=\"submit_btn\"\n              >注册</el-button>\n            </el-form-item>\n          </el-form>\n        </el-tab-pane>\n\n      </el-tabs>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport {\n  login,\n  register,\n  getuserInfo,\n  getCaptcha\n} from '../apiService/clientApi'\nimport { Loading } from 'element-ui'\nimport { setStore, removeStore } from '../config/mUtils'\nimport { mapActions, mapState } from 'vuex'\nimport store from '../store/index.js'\nimport logo from '../assets/logo.png'\nexport default {\n  data() {\n    const checkPassword = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请再次输入密码'))\n      } else if (value.length < 6) {\n        callback(new Error('密码不能小于6位数!'))\n      } else {\n        callback()\n      }\n    }\n\n    const validatePassword = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请再次输入密码'))\n      } else if (value !== this.registerForm.password) {\n        callback(new Error('两次输入密码不一致!'))\n      } else {\n        callback()\n      }\n    }\n    return {\n      loginForm: {\n        username: '',\n        password: '',\n        captchaCode: ''\n      },\n      loginRules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' }\n        ],\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }],\n        captchaCode: [\n          { required: true, message: '请输入验证码', trigger: 'blur' }\n        ]\n      },\n      registerForm: {\n        username: '',\n        password: '',\n        checkPassword: '',\n        captchaCode: ''\n        // validateCode:''\n      },\n      registerRules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, validator: checkPassword, trigger: 'blur' }\n        ],\n        captchaCode: [\n          { required: true, message: '请输入验证码', trigger: 'blur' }\n        ],\n        checkPassword: [\n          { required: true, validator: validatePassword, trigger: 'blur' }\n        ]\n      },\n      showLogin: false,\n      loading: false,\n      captchaImg: '',\n      logo: logo\n    }\n  },\n  created() {\n    this.getCaptcha()\n  },\n  mounted() {\n    this.showLogin = true\n\n    if (window.localStorage.token && this.userInfo.auth == 0) {\n      this.getUserData()\n    }\n  },\n  computed: {\n    ...mapState(['userInfo'])\n  },\n  methods: {\n    ...mapActions(['getUserData']),\n    async getCaptcha() {\n      const result = await getCaptcha()\n      this.captchaImg = result.data\n      setStore('captcha', result.code)\n    },\n    refreshCaptcha() {\n      this.getCaptcha()\n    },\n    async loginButton(formName) {\n      this.$refs[formName].validate(async valid => {\n        if (valid) {\n          this.loading = true\n          try {\n            const username = this.loginForm.username.toLowerCase()\n            const result = await login({\n              username,\n              password: this.loginForm.password,\n              captchaCode: this.loginForm.captchaCode\n            })\n            this.loading = false\n            setStore('username', result.username)\n            setStore('token', result.token)\n            removeStore('captcha')\n            store.dispatch('getUserData').then(() => {\n              this.$router.push('home')\n            })\n          } catch (err) {\n            this.loading = false\n            this.getCaptcha()\n            this.loginForm.captchaCode = ''\n          }\n        } else {\n          this.$message({\n            type: 'error',\n            message: '请输入正确的用户名和密码'\n          })\n          return false\n        }\n      })\n    },\n\n    async registerButton(formName) {\n      this.$refs[formName].validate(async valid => {\n        if (valid) {\n          this.loading = true\n          try {\n            const username = this.registerForm.username.toLowerCase()\n            const result = await register({\n              username,\n              password: this.registerForm.password,\n              captchaCode: this.registerForm.captchaCode\n            })\n            this.loading = false\n            this.$message({\n              type: 'success',\n              message: result.message\n            })\n            setStore('username', result.username)\n            setStore('token', result.token)\n\n            store.dispatch('getUserData').then(() => {\n              this.$router.push('manage/addShop')\n            })\n          } catch (err) {\n            this.loading = false\n            this.getCaptcha()\n            this.loginForm.captchaCode = ''\n          }\n        } else {\n          this.$message({\n            type: 'error',\n            message: '请输入正确的用户名和密码'\n          })\n\n          return false\n        }\n      })\n    }\n  },\n  watch: {\n    userInfo: function(newValue) {\n      if (newValue.auth === 2 || newValue.auth === 1) {\n        this.$message({\n          type: 'success',\n          message: '登入成功'\n        })\n        this.$router.push('home')\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../style/mixin';\n.login_page {\n  background-color: #324057;\n  height: 100%;\n  display: flex;\n  // justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n.manage_tip {\n  position: absolute;\n  width: 100%;\n  top: -100px;\n  left: 0;\n  p {\n    font-size: 34px;\n    color: #fff;\n  }\n}\n.logo-container {\n  margin-top: 5%;\n  margin-bottom: 3%;\n}\n.form_contianer {\n  @include wh(320px, 210px);\n  // @include ctp(320px, 210px);\n  // padding: 25px;\n  border-radius: 5px;\n  text-align: center;\n\n  .submit_btn {\n    width: 100%;\n    font-size: 16px;\n  }\n}\n.tip {\n  font-size: 12px;\n  color: red;\n}\n.form-fade-enter-active,\n.form-fade-leave-active {\n  transition: all 1s;\n}\n.form-fade-enter,\n.form-fade-leave-active {\n  transform: translate3d(0, -50px, 0);\n  opacity: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=715a8d94&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=715a8d94&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"715a8d94\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=715a8d94&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=715a8d94&lang=scss&scoped=true&\""],"sourceRoot":""}